
{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "type": "object",
      "description": "Represents a user profile in the Predictatron application.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the user profile." },
        "name": { "type": "string", "description": "The name of the user." },
        "avatar": { "type": "string", "description": "URL or ID for the user's avatar." },
        "score": { "type": "number", "description": "The user's current score." },
        "rank": { "type": "number", "description": "The user's current rank." },
        "previousRank": { "type": "number", "description": "The user's rank from the previous week." },
        "previousScore": { "type": "number", "description": "The user's score from the previous week." },
        "maxRank": { "type": "number", "description": "The user's highest rank this season." },
        "minRank": { "type": "number", "description": "The user's lowest rank this season." },
        "maxScore": { "type": "number", "description": "The user's highest score this season." },
        "minScore": { "type": "number", "description": "The user's lowest score this season." },
        "rankChange": { "type": "number", "description": "The change in rank from the previous week." },
        "scoreChange": { "type": "number", "description": "The change in score from the previous week." },
        "isPro": { "type": "boolean", "description": "Whether the user is a pro player." },
        "email": { "type": "string", "description": "The email address of the user.", "format": "email" },
        "joinDate": { "type": "string", "description": "The date and time the user joined.", "format": "date-time" },
        "country": { "type": "string", "description": "The user's country of residence." },
        "favouriteTeam": { "type": "string", "description": "The ID of the user's favourite team." },
        "seasonsPlayed": { "type": "number", "description": "The number of seasons the user has played." },
        "first": { "type": "number", "description": "Number of 1st place finishes." },
        "second": { "type": "number", "description": "Number of 2nd place finishes." },
        "third": { "type": "number", "description": "Number of 3rd place finishes." },
        "fourth": { "type": "number", "description": "Number of 4th place finishes." },
        "fifth": { "type": "number", "description": "Number of 5th place finishes." },
        "sixth": { "type": "number", "description": "Number of 6th place finishes." },
        "seventh": { "type": "number", "description": "Number of 7th place finishes." },
        "eighth": { "type": "number", "description": "Number of 8th place finishes." },
        "ninth": { "type": "number", "description": "Number of 9th place finishes." },
        "tenth": { "type": "number", "description": "Number of 10th place finishes." },
        "mimoM": { "type": "number", "description": "Number of MiMoM wins." },
        "ruMimoM": { "type": "number", "description": "Number of RuMiMoM wins." },
        "joMimoM": { "type": "number", "description": "Number of JoMiMoM wins." },
        "joRuMimoM": { "type": "number", "description": "Number of JoRuMiMoM wins." },
        "xmasNo1": { "type": "number", "description": "Number of Christmas No. 1 finishes." },
        "cashWinnings": { "type": "number", "description": "Total cash winnings for the user across all seasons." }
      },
      "required": ["id", "name", "email"]
    },
    "Team": {
      "title": "Team",
      "type": "object",
      "description": "Represents a football team.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "logo": { "type": "string" },
        "iconColour": { "type": "string" },
        "bgColourFaint": { "type": "string" },
        "bgColourSolid": { "type": "string" },
        "textColour": { "type": "string" }
      },
      "required": ["id", "name", "logo"]
    },
    "TeamStanding": {
      "title": "TeamStanding",
      "type": "object",
      "description": "Represents a team's standing in the league.",
      "properties": {
        "teamId": { "type": "string" },
        "rank": { "type": "number" },
        "points": { "type": "number" },
        "goalDifference": { "type": "number" },
        "gamesPlayed": { "type": "number" },
        "wins": { "type": "number" },
        "draws": { "type": "number" },
        "losses": { "type": "number" },
        "goalsFor": { "type": "number" },
        "goalsAgainst": { "type": "number" }
      },
      "required": ["teamId", "rank", "points", "gamesPlayed", "wins", "draws", "losses", "goalsFor", "goalsAgainst"]
    },
    "PreviousSeasonStanding": {
      "title": "PreviousSeasonStanding",
      "type": "object",
      "description": "Represents a team's standing in the previous league season.",
      "properties": {
        "teamId": { "type": "string" },
        "rank": { "type": "number" },
        "points": { "type": "number" },
        "goalDifference": { "type": "number" }
      },
      "required": ["teamId", "rank", "points", "goalDifference"]
    },
     "Prediction": {
      "title": "Prediction",
      "type": "object",
      "description": "Represents a user's prediction for the season.",
      "properties": {
        "userId": { "type": "string" },
        "rankings": { "type": "array", "items": { "type": "string" } }
      },
      "required": ["userId", "rankings"]
    },
    "PlayerTeamScore": {
      "title": "PlayerTeamScore",
      "type": "object",
      "description": "Represents the score a player received for a specific team prediction.",
      "properties": {
        "userId": { "type": "string" },
        "teamId": { "type": "string" },
        "score": { "type": "number" }
      },
      "required": ["userId", "teamId", "score"]
    },
    "UserHistory": {
      "title": "UserHistory",
      "type": "object",
      "description": "Stores a user's weekly performance history.",
      "properties": {
        "userId": { "type": "string" },
        "weeklyScores": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "week": { "type": "number" },
              "score": { "type": "number" },
              "rank": { "type": "number" }
            },
            "required": ["week", "score", "rank"]
          }
        }
      },
      "required": ["userId", "weeklyScores"]
    },
    "WeeklyTeamStanding": {
        "title": "WeeklyTeamStanding",
        "type": "object",
        "description": "Stores a team's rank for a specific week.",
        "properties": {
            "week": { "type": "number" },
            "teamId": { "type": "string" },
            "rank": { "type": "number" }
        },
        "required": ["week", "teamId", "rank"]
    },
    "TeamRecentResult": {
        "title": "TeamRecentResult",
        "type": "object",
        "description": "Stores a team's recent match results.",
        "properties": {
            "teamId": { "type": "string" },
            "results": {
                "type": "array",
                "items": { "type": "string", "enum": ["W", "D", "L", "-"] }
            }
        },
        "required": ["teamId", "results"]
    },
    "MonthlyMimoM": {
        "title": "MonthlyMimoM",
        "type": "object",
        "description": "Represents a 'Most Improved Manager of the Month' award.",
        "properties": {
            "id": { "type": "string" },
            "month": { "type": "string" },
            "year": { "type": "number" },
            "userId": { "type": "string" },
            "special": { "type": "string" },
            "type": { "type": "string", "enum": ["winner", "runner-up"] },
            "improvement": { "type": "number", "description": "The score improvement that led to the award." }
        },
        "required": ["id", "month", "year", "userId", "type"]
    },
    "SeasonMonth": {
        "title": "SeasonMonth",
        "type": "object",
        "description": "Represents a month within the season for awards.",
        "properties": {
            "id": { "type": "string" },
            "month": { "type": "string" },
            "year": { "type": "number" },
            "special": { "type": "string" },
            "abbreviation": { "type": "string" }
        },
        "required": ["id", "month", "year", "abbreviation"]
    },
    "Match": {
      "title": "Match",
      "type": "object",
      "description": "Represents a single match between two teams.",
      "properties": {
        "week": { "type": "number" },
        "homeTeamId": { "type": "string" },
        "awayTeamId": { "type": "string" },
        "homeScore": { "type": "number" },
        "awayScore": { "type": "number" },
        "matchDate": { "type": "string", "format": "date-time" }
      },
      "required": ["week", "homeTeamId", "awayTeamId", "homeScore", "awayScore", "matchDate"]
    },
    "Message": {
      "title": "Message",
      "type": "object",
      "description": "Represents a single message in the chat forum.",
      "properties": {
        "userId": { "type": "string" },
        "userName": { "type": "string" },
        "userAvatar": { "type": "string" },
        "text": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "mentions": {
          "type": "array",
          "items": { "type": "string" }
        }
      },
      "required": ["userId", "userName", "text", "createdAt"]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
     "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/UserProfile" }
        }
      },
      {
        "path": "/teams/{teamId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/Team" }
        }
      },
      {
        "path": "/standings/{standingId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/TeamStanding" }
        }
      },
      {
        "path": "/previousSeasonStandings/{standingId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/PreviousSeasonStanding" }
        }
      },
      {
        "path": "/predictions/{userId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/Prediction" }
        }
      },
      {
        "path": "/playerTeamScores/{scoreId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/PlayerTeamScore" }
        }
      },
      {
        "path": "/userHistories/{userId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/UserHistory" }
        }
      },
      {
        "path": "/weeklyTeamStandings/{standingId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/WeeklyTeamStanding" }
        }
      },
      {
        "path": "/teamRecentResults/{resultId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/TeamRecentResult" }
        }
      },
      {
        "path": "/monthlyMimoM/{awardId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/MonthlyMimoM" }
        }
      },
      {
        "path": "/seasonMonths/{monthId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/SeasonMonth" }
        }
      },
      {
        "path": "/matches/{matchId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/Match" }
        }
      },
      {
        "path": "/messages/{messageId}",
        "definition": {
          "schema": { "$ref": "#/backend/entities/Message" }
        }
      }
    ]
  }
}
    

  